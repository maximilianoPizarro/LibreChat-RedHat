# =============================================================================
# Archivo de ejemplo de variables de entorno para Podman y DevSpaces
# =============================================================================
# Copia este archivo a .env y ajusta los valores según tu configuración
# Comando en PowerShell: Copy-Item env.example.podman .env
# Comando en Linux/Mac: cp env.example.podman .env
# Luego edita .env y configura las variables necesarias
# =============================================================================

# -----------------------------------------------------------------------------
# VARIABLES REQUERIDAS PARA PODMAN COMPOSE
# -----------------------------------------------------------------------------
# Estas variables son necesarias para que podman-compose.yml funcione correctamente

# Puerto del servidor (por defecto 3080)
PORT=3080

# User ID y Group ID para los contenedores
# En Windows, generalmente usar 1000
UID=1000
GID=1000

# Clave maestra de Meilisearch (REQUERIDA)
# IMPORTANTE: Genera una clave segura de al menos 16 caracteres
# En PowerShell: -join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | ForEach-Object {[char]$_})
# O usa: openssl rand -hex 16
# NOTA: Este valor debe coincidir con MEILI_MASTER_KEY en el contenedor meilisearch del devfile
MEILI_MASTER_KEY=librechat

# Puerto para RAG API (opcional, por defecto 8000)
RAG_PORT=8000

# -----------------------------------------------------------------------------
# VARIABLES BÁSICAS DE LIBRECHAT
# -----------------------------------------------------------------------------
# Configuración básica de la aplicación

# Dominio de la aplicación (ajusta según tu configuración)
DOMAIN=http://localhost:3080

# Entorno de ejecución (development, production)
NODE_ENV=production

# Host del servidor (generalmente 0.0.0.0 para aceptar conexiones externas)
HOST=0.0.0.0

# -----------------------------------------------------------------------------
# SEGURIDAD Y AUTENTICACIÓN
# -----------------------------------------------------------------------------
# Variables para JWT y autenticación

# Secretos JWT (REQUERIDOS para producción)
# Genera claves seguras aleatorias de al menos 32 caracteres
# En PowerShell: -join ((48..57) + (65..90) + (97..122) | Get-Random -Count 64 | ForEach-Object {[char]$_})
# O usa: openssl rand -hex 32
JWT_SECRET=8a447c316c171f5df8e304c085187b6d10e4eeef5174137d4ad4d2cdd956f5e7
JWT_REFRESH_SECRET=83096493d70e22561f84191c24f459d72e9b41f4c8657fe43aae8cb9b0fe1fa4

# Tiempo de expiración de tokens JWT
JWT_EXPIRES_IN=1d
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# AUTENTICACIÓN Y REGISTRO
# -----------------------------------------------------------------------------
# Configuración de autenticación

ALLOW_EMAIL_LOGIN=true
ALLOW_REGISTRATION=true
ALLOW_SOCIAL_LOGIN=true

# -----------------------------------------------------------------------------
# BASE DE DATOS - MONGODB
# -----------------------------------------------------------------------------
# MongoDB está configurado automáticamente en podman-compose.yml y devfile
# IMPORTANTE: En DevWorkspace, usa 127.0.0.1 ya que todos los componentes comparten la misma red
# Para podman-compose local, usa el nombre del servicio (mongodb)
# El nombre "mongodb" es el nombre del servicio en podman-compose.yml
MONGO_URI=mongodb://127.0.0.1:27017/LibreChat

# Opciones avanzadas de MongoDB (opcional - solo si experimentas problemas de conexión)
# Tiempo máximo de espera en la cola de conexiones (en milisegundos)
# MONGO_WAIT_QUEUE_TIMEOUT_MS=30000
# Tamaño máximo del pool de conexiones
# MONGO_MAX_POOL_SIZE=10
# Tamaño mínimo del pool de conexiones
# MONGO_MIN_POOL_SIZE=2

# -----------------------------------------------------------------------------
# MEILISEARCH
# -----------------------------------------------------------------------------
# Meilisearch está configurado automáticamente en podman-compose.yml y devfile
# MEILI_MASTER_KEY ya está definida arriba en las variables requeridas

# IMPORTANTE: En DevWorkspace, usa 127.0.0.1 ya que todos los componentes comparten la misma red
# Para podman-compose local, usa el nombre del servicio (meilisearch)
# El nombre "meilisearch" es el nombre del servicio en podman-compose.yml
MEILI_HOST=http://127.0.0.1:7700

# Configuración de Meilisearch
MEILI_NO_ANALYTICS=true
SEARCH=true

# -----------------------------------------------------------------------------
# VECTORDB (PGVECTOR) - Para RAG API
# -----------------------------------------------------------------------------
# pgvector está configurado automáticamente en podman-compose.yml y devfile
# Estas variables se usan en el contenedor vectordb
# IMPORTANTE: El nombre del host es "vectordb" (nombre del servicio en podman-compose.yml)

# Base de datos PostgreSQL para vectores
POSTGRES_DB=mydatabase
POSTGRES_USER=myuser
POSTGRES_PASSWORD=mypassword

# URL de conexión a PostgreSQL (opcional - para uso directo desde la aplicación)
# POSTGRES_URI=postgresql://myuser:mypassword@vectordb:5432/mydatabase

# -----------------------------------------------------------------------------
# RAG API
# -----------------------------------------------------------------------------
# RAG API está configurado automáticamente en podman-compose.yml (opcional)
# RAG_PORT ya está definido arriba en las variables requeridas
# 
# IMPORTANTE: RAG_API_URL debe usar el nombre del servicio del contenedor (rag_api)
# NO uses localhost o 127.0.0.1, ya que la aplicación corre en un contenedor
# El nombre "rag_api" es el nombre del servicio en podman-compose.yml
# Descomenta si usas RAG API (requiere descomentar el servicio rag_api en podman-compose.yml)
# RAG_API_URL=http://rag_api:8000

# -----------------------------------------------------------------------------
# OPENID/OAUTH (OPCIONAL)
# -----------------------------------------------------------------------------
# Configuración para autenticación con OpenID Connect (Red Hat SSO, etc.)
# Descomenta y configura si necesitas autenticación OAuth/OpenID

# OPENID_LOGIN_ENABLED=true
# OPENID_ISSUER=https://auth.redhat.com/realms/librechat
# OPENID_CLIENT_ID=client-id
# OPENID_CLIENT_SECRET=client-secret
# OPENID_SCOPE=openid profile email
# OPENID_CALLBACK_URL=/oauth/openid/callback
# OPENID_USE_END_SESSION_ENDPOINT=true
# OPENID_SESSION_SECRET=sessionsecret
# OPENID_REQUIRED_ROLE_TOKEN_KIND=access
# OPENID_REQUIRED_ROLE_PARAMETER_PATH=realm_access.roles

# -----------------------------------------------------------------------------
# EMBEDDINGS (SIN OLLAMA)
# -----------------------------------------------------------------------------
# Configuración de embeddings - sin Ollama, usar OpenAI u otro proveedor
# Si no necesitas embeddings, puedes dejar esto comentado

# EMBEDDINGS_PROVIDER=openai
# OPENAI_API_KEY=sk-your_openai_api_key_here

# -----------------------------------------------------------------------------
# API KEYS (REQUERIDAS PARA RAG API O EMBEDDINGS)
# -----------------------------------------------------------------------------
# Si usas el servicio rag_api o embeddings con OpenAI, estas claves son REQUERIDAS
# Puedes obtener tu API key en: https://platform.openai.com/api-keys

# OpenAI API Key (REQUERIDA si usas RAG API o embeddings con OpenAI)
# OPENAI_API_KEY=sk-your_openai_api_key_here

# Anthropic API Key (opcional)
# ANTHROPIC_API_KEY=your_anthropic_api_key

# -----------------------------------------------------------------------------
# OPCIONES ADICIONALES
# -----------------------------------------------------------------------------
# Descomenta y configura según necesites

# Redis (opcional - para caché)
# IMPORTANTE: Si usas Redis, el nombre del host debe ser el nombre del servicio del contenedor
# USE_REDIS=false
# REDIS_URI=redis://redis:6379

# Configuración de archivos
# FILE_STRATEGY=local
# STORAGE_PROVIDER=local

# Configuración de email (opcional)
# EMAIL_SERVICE=gmail
# EMAIL_USERNAME=your_email@gmail.com
# EMAIL_PASSWORD=your_app_password
# EMAIL_FROM=noreply@example.com

# Configuración de OAuth (opcional - Google, GitHub, etc.)
# GOOGLE_CLIENT_ID=your_google_client_id
# GOOGLE_CLIENT_SECRET=your_google_client_secret
# GITHUB_CLIENT_ID=your_github_client_id
# GITHUB_CLIENT_SECRET=your_github_client_secret

# -----------------------------------------------------------------------------
# NOTAS IMPORTANTES SOBRE NOMBRES DE SERVICIOS
# -----------------------------------------------------------------------------
# IMPORTANTE: 
# - En DevWorkspace: Usa 127.0.0.1 ya que todos los componentes comparten la misma red
# - En podman-compose local: Usa los nombres de los servicios definidos en podman-compose.yml
#
# Nombres de servicios en podman-compose.yml:
# - mongodb    -> mongodb:27017 (podman-compose) o 127.0.0.1:27017 (DevWorkspace)
# - meilisearch -> meilisearch:7700 (podman-compose) o 127.0.0.1:7700 (DevWorkspace)
# - vectordb   -> vectordb:5432
# - rag_api    -> rag_api:8000 (si está descomentado)
#
# Ejemplos para DevWorkspace:
#   MONGO_URI=mongodb://127.0.0.1:27017/LibreChat
#   MEILI_HOST=http://127.0.0.1:7700
#
# Ejemplos para podman-compose local:
#   MONGO_URI=mongodb://mongodb:27017/LibreChat
#   MEILI_HOST=http://meilisearch:7700

# -----------------------------------------------------------------------------
# NOTAS
# -----------------------------------------------------------------------------
# - Para más opciones de configuración, consulta:
#   https://www.librechat.ai/docs/configuration
# - Las variables marcadas como REQUERIDAS deben configurarse antes de ejecutar
# - Las variables opcionales pueden dejarse comentadas si no se necesitan
# - En producción, asegúrate de usar valores seguros para todas las claves secretas
# - En DevSpaces, las variables de entorno se configuran en el devfile, no en .env
#   El archivo .env se usa principalmente para desarrollo local con Podman
# - Los nombres de servicios (mongodb, meilisearch, vectordb, rag_api) son los
#   nombres definidos en podman-compose.yml y deben usarse en todas las URLs
